<div class="wishit-section">
  <div class="wishit-gift-box-container">
    <div class="wishit-gift-box"  id="wishit-gift-box">
      <div class="wishit-gift-box__side wishit-gift-box__side--front"></div>
      <div class="wishit-gift-box__side wishit-gift-box__side--back"></div>
      <div class="wishit-gift-box__side wishit-gift-box__side--left"></div>
      <div class="wishit-gift-box__side wishit-gift-box__side--right"></div>
      <div class="wishit-gift-box__end wishit-gift-box__side--top"></div>
      <div class="wishit-gift-box__end wishit-gift-box__side--bottom"></div>
      <div class="wishit-gift-box-lid__side wishit-gift-box-lid__side--front"></div>
      <div class="wishit-gift-box-lid__side wishit-gift-box-lid__side--back"></div>
      <div class="wishit-gift-box-lid__side wishit-gift-box-lid__side--left"></div>
      <div class="wishit-gift-box-lid__side wishit-gift-box-lid__side--right"></div>
      <div class="wishit-gift-box-lid__end wishit-gift-box-lid__side--top"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 0px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 1px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 2px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 3px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 4px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 5px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 6px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 7px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 8px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 9px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 10px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 11px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 12px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 13px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 14px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 15px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 16px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 17px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 18px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 19px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 20px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 21px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 22px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 23px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 24px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 25px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 26px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 27px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 28px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 29px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 30px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 31px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 32px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 33px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 34px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 35px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 36px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 37px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 38px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 39px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l" style="--wishit-gift-box-position: 40px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-l-end"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 0px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 1px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 2px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 3px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 4px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 5px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 6px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 7px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 8px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 9px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 10px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 11px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 12px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 13px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 14px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 15px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 16px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 17px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 18px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 19px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 20px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 21px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 22px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 23px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 24px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 25px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 26px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 27px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 28px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 29px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 30px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 31px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 32px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 33px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 34px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 35px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 36px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 37px; border-color: var(--wrap-ribbon-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 38px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 39px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r" style="--wishit-gift-box-position: 40px; border-color: var(--wishit-gift-box-edge-color)"></div>
      <div class="ribbon-r-end"></div>
    </div>
  </div>
  </div>
</div>
{%- style -%}
.wishit-section { 
  background: linear-gradient(-20deg, {{ section.settings.background_color_1 }} 20%, {{ section.settings.background_color_2 }} 20%, {{ section.settings.background_color_2 }} 30%, {{ section.settings.background_color_3 }} 30%, {{ section.settings.background_color_3 }} 70%, {{ section.settings.background_color_2 }} 70%, {{ section.settings.background_color_2 }} 80%, {{ section.settings.background_color_1}} 80% );
  display: flex;
  align-items: center;
  justify-content: center;
}

.wishit-gift-box-container {
  height: 250px;
  perspective: 400px;
  margin: 50px auto;
}

.wishit-gift-box {
  --wishit-gift-box-color: {{ section.settings.mystery_box_color }};
  --wishit-gift-box-edge-color: {{ section.settings.mystery_box_egde_color}};
  --wrap-color: {{ section.settings.mystery_box_wrap_color }};
  --wrap-ribbon-color: {{ section.settings.ribbon_color }};
  --wrap-top-color: {{ section.settings.mystery_box_wrap_color }};

  margin-top: 100px;
  width: 100px;
  height: 100px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s;
  animation: rotation-3d 20s infinite linear;
}

.wishit-gift-box .wishit-gift-box__side,
.wishit-gift-box .wishit-gift-box__end {
  position: absolute;
  width: 200px;
  height: 200px;
  border: 2px solid var(--wishit-gift-box-edge-color);
}

.wishit-gift-box .wishit-gift-box-lid__side {
  position: absolute;
  width: 220px;
  height: 50px;
  border: 2px solid var(--wishit-gift-box-edge-color);
}

.wishit-gift-box .wishit-gift-box-lid__end {
  position: absolute;
  width: 220px;
  height: 220px;
  border: 2px solid var(--wishit-gift-box-edge-color);
}

.wishit-gift-box .wishit-gift-box__side,
.wishit-gift-box .wishit-gift-box-lid__side {
  background: linear-gradient(to right,
    var(--wishit-gift-box-color) 40%,
    var(--wrap-color) 40%,
    var(--wrap-color) 60%,
    var(--wishit-gift-box-color) 60%
  );
}
.wishit-gift-box .wishit-gift-box__end,
.wishit-gift-box .wishit-gift-box-lid__end {
  background: linear-gradient(to right,
    transparent 40%,
    var(--wrap-top-color) 40%,
    var(--wrap-top-color) 60%,
    transparent 60%
  ),
  linear-gradient(to bottom,
    var(--wishit-gift-box-color) 40%,
    var(--wrap-color) 40%,
    var(--wrap-color) 60%,
    var(--wishit-gift-box-color) 60%
  );
}

.wishit-gift-box .wishit-gift-box__side--front { transform: rotateY(0deg) translateZ(100px); }
.wishit-gift-box .wishit-gift-box__side--back { transform: rotateY(180deg) translateZ(100px); }
.wishit-gift-box .wishit-gift-box__side--left { transform: rotateY(-90deg) translateZ(100px); }
.wishit-gift-box .wishit-gift-box__side--right { transform: rotateY(90deg) translateZ(100px); }
.wishit-gift-box .wishit-gift-box__side--top { transform: rotateX(90deg) translateZ(100px); }
.wishit-gift-box .wishit-gift-box__side--bottom { transform: rotateX(-90deg) translateZ(100px); }

.wishit-gift-box .wishit-gift-box-lid__side--front { transform: rotateY(0deg) translateZ(110px) translateX(-10px) translateY(-10px); }
.wishit-gift-box .wishit-gift-box-lid__side--back { transform: rotateY(180deg) translateZ(110px) translateX(10px) translateY(-10px); }
.wishit-gift-box .wishit-gift-box-lid__side--left { transform: rotateY(-90deg) translateZ(120px)  translateY(-10px); }
.wishit-gift-box .wishit-gift-box-lid__side--right { transform: rotateY(90deg) translateZ(100px)  translateY(-10px); }
.wishit-gift-box .wishit-gift-box-lid__side--top { transform: rotateX(90deg) translateZ(120px) translateX(-10px) translateY(0); }


.wishit-gift-box .ribbon-l {
  position: absolute;
  width: 70px;
  height: 70px;
  border: 2px solid var(--wrap-ribbon-color);
  border-radius: 50% 50% 0 50%;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  transform: rotateX(75deg)
             rotateY(90deg)
             /* use a CSS variable for the translate, defined in CSS */
             translateZ(calc(80px - var(--wishit-gift-box-position)))  
             translateX(-85px)
             translateY(-75px)
             skewY(30deg);
}

.wishit-gift-box .ribbon-r {
  position: absolute;
  width: 70px;
  height: 70px;
  border: 2px solid var(--wrap-ribbon-color);
  border-radius: 50% 50% 0 50%;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  transform: rotateX(-5deg)
             rotateY(90deg)
             /* use a CSS variable for the translate, defined in CSS */
             translateZ(calc(80px - var(--wishit-gift-box-position)))  
             translateX(-30px)
             translateY(-110px)
             skewY(30deg);
}

.ribbon-l-end {
  position: absolute;
  width: 40px;
  height: 110px;
  background:
    linear-gradient(45deg, var(--wrap-top-color) 72%, transparent 72%), 
    linear-gradient(-45deg, var(--wrap-top-color) 72%, transparent 72%);
  border: 2px solid var(--wishit-gift-box-edge-color);
  border-top: none;
  border-bottom: none;
  transform: rotateX(-70deg) translateX(80px) translateY(-80px) translateZ(-60px);
}

.ribbon-r-end {
  position: absolute;
  width: 40px;
  height: 110px;
  background:
    linear-gradient(45deg, var(--wrap-top-color) 72%, transparent 72%), 
    linear-gradient(-45deg, var(--wrap-top-color) 72%, transparent 72%);
  border: 2px solid var(--wishit-gift-box-edge-color);
  border-top: none;
  border-bottom: none;
  transform: rotateX(80deg) translateX(80px) translateY(-80px) translateZ(60px);
}

.wishit-gift-box > *{
  display: block !important;
}

@keyframes rotation-3d {
  from {
    transform: translateZ(-100px) rotateY(50deg) rotateX(-5deg) rotateZ(-20deg)
  }
  to {
    transform: translateZ(-100px) rotateY(409deg) rotateX(-5deg) rotateZ(-20deg)
  }
}
@keyframes rotation-3d-stop {
  from {
    transform: translateZ(-100px) rotateY(310deg) rotateX(-5deg) rotateZ(-20deg)
  }
  to {
    transform: translateZ(-100px) rotateY(360deg) rotateX(-5deg) rotateZ(-20deg)
  }
}
.fade-visible {
  visibility: visible;
  opacity: 1;
  transition: opacity 2s linear;
}

.fade-hidden {
  visibility: hidden;
  opacity: 0;
  transition: visibility 0s 2s, opacity 2s linear;
}
.wishit-open-box .wishit-gift-box-lid__side,.wishit-open-box  .wishit-gift-box-lid__side--top,.wishit-open-box .ribbon-l,
  .wishit-open-box .ribbon-r, .wishit-open-box .ribbon-l-end, .wishit-open-box .ribbon-r-end, .wishit-open-box .wishit-gift-box__side--top {
    top: -90px;
}
.wishit-open-box .wishit-gift-box__side {
    top: 120px;
}
.wishit-open-box1{
  animation: rotation-3d-stop 5s linear infinite;
}
div#wishit-gift-box.wishit-open-box:before, div#wishit-gift-box.wishit-open-box:after {
    content: '{{section.settings.discount_value}} {{section.settings.discount_code}}';
    font-size: 30px;
    width: 100%;
    transform: rotateY(0deg);
    text-align: center;
    color: {{ section.settings.mystery_box_color }};
    position: absolute;
    background: white;
    border: 5px solid {{ section.settings.mystery_box_color }};
    font-weight: bold;
    text-transform: uppercase;
    top: -10px;
    left: 10px;
    width: 180px;
}
div#wishit-gift-box.wishit-open-box:after {
    transform: rotateY(180deg) translateZ(1px);
}
  @media (max-width:760px){
    .wishit-gift-box-container {
      height: 150px;
    }
    .wishit-gift-box{
      zoom: 0.6;
    }
  }
  
{%- endstyle -%}
<script>
  document.getElementById("wishit-gift-box").onclick = function() {
   document.getElementById("wishit-gift-box").classList.toggle("wishit-open-box");
  }
</script>
{% schema %}
{
  "name": "WishIt Discount Box",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color",
      "id": "background_color_1",
      "default": "#a8dadc",
      "label": "Background Color 1"
    },
    {
      "type": "color",
      "id": "background_color_2",
      "default": "#457b9d",
      "label": "Background Color 2"
    },
    {
      "type": "color",
      "id": "background_color_3",
      "default": "#1d3557",
      "label": "Background Color 3"
    },
    {
      "type": "color",
      "id": "mystery_box_color",
      "default": "#e63946",
      "label": "Mystery Box Color"
    },
    {
      "type": "color",
      "id": "mystery_box_wrap_color",
      "default": "#A8DADC",
      "label": "Mystery Box Wrap Color"
    },
    {
      "type": "color",
      "id": "mystery_box_edge_color",
      "default": "#590b11",
      "label": "Mystery Box Edge Color"
    },
    {
      "type": "color",
      "id": "ribbon_color",
      "default": "#c0e4e6",
      "label": "Ribbon Color"
    },
    {
      "type": "text",
      "id": "discount_code",
      "label": "Discount Code",
      "info": "Make sure its a working discount code. To create a discount code, go to Admin > Discount"
    },
    {
      "type": "text",
      "id": "discount_value",
      "label": "Discount Value",
      "default": "10% Off",
      "info": "Specify Value of the Discount Code."
    }
  ],
  "presets": [
    {
      "name": "WishIt Discount Box"
    }
  ]
}
{% endschema %}
